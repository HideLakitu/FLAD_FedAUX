#  初始化服务器from ann_models import init_serverfrom load_pretrained_encoder import load_pretrained_weightsfrom tensorflow.keras.models import load_modeldef init_server_with_pretraining(model_type, dataset_name, input_shape, max_flow_len, pretrained_path=None):    """    初始化 server，并可选加载预训练模型的参数（仅支持MLP）    参数:        model_type: 'mlp' or 'cnn' or path to .h5 model        dataset_name: 数据集名（保留兼容性）        input_shape: 模型输入形状，如 (10, 11, 1)        max_flow_len: 最大流量长度        pretrained_path: 预训练 .pth 权重文件路径（用于MLP）    返回:        server 字典对象，包含 server['model']    """    server = {}    if model_type.endswith(".h5"):        print(f"✅ Loading external model from {model_type}")        model = load_model(model_type, compile=False)        server['model'] = model    else:        server = init_server(model_type, dataset_name, input_shape, max_flow_len)        if model_type == "mlp" and pretrained_path is not None:            server['model'] = load_pretrained_weights(server['model'], pretrained_path)    return server